{% extends "_base.htm" %}

{% block title %}Join{% endblock %}

{% block content %}
<section class="spacer green">
	<div class="container">
		<div class="row">
			<div class="span12 aligncenter flyUp">
				<h2 class="pagetitle">Join, brave warrior!</h2>
			</div>
		</div>
	</div>
</section>

{% if errors %}
<div class="alert alert-error aligncenter">
	<button type="button" class="close" data-dismiss="alert">&times;</button>
	{{ errors }}
</div>
{% endif %}


<section id="maincontent" class="inner">
	<div class="row auth-container">
		<div class="login-container">
			<div class="auth-form">
				<form method="POST" action="">
					{% csrf_token %}
					{% for field in form_login %}
					<p class="field">
						{{ field.label_tag }}
						{{ field }}
					</p>
					{% endfor %}

					<input type="submit" class="btn btn-theme" value="Login" />
				</form>
			</div>
			<div class="container-title animate">
				<div class="blurred-background"></div>
				<h2 class="aligncenter">Login</h3>
			</div>
		</div>
		<div class="register-container">
			<div class="auth-form">
				<form method="POST" action="">
					{% csrf_token %}
					{% for field in form_register %}
					<div class="field">
						{{ field.label_tag }}
						{{ field }}
						{% if field.errors %}
							<ul class="field-errors">
							{% for error in field.errors %}
								<li>{{ error }}</li>
							{% endfor %}
							</ul>
						{% endif %}
						</div>
					{% endfor %}

					<input type="submit" class="btn btn-theme" value="Register" />
				</form>
			</div>
			<div class="container-title animate">
				<div class="blurred-background"></div>
				<h2 class="aligncenter">Register</h3>
			</div>
		</div>
	</div>
</section>
{% endblock %}

{% block styles %}
{{ block.super }}
<style>
	.auth-container {
		display: flex;
		flex-wrap: wrap;
	}
	.auth-form {
		display: flex;
		justify-content: center;
		align-content: center;
		flex-flow: row;
		height: 90%;
		padding: 50px;
	}
	.auth-form form {
		margin: auto;
		display: flex;
		flex-flow: column;
		width: 100%;
	}
	.container-title {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background: none !important;
	}
	.container-title h2 {
		position: absolute;
		top: 45%;
		left: 45%;
	}
	.blurred-background {
		filter: blur(3px);
		width: 100%;
		height: 100%;
	}
	.login-container {
		position: relative;
		flex: 1;
	}
	.login-container .blurred-background {
		background: #2c858d;
	}
	.register-container {
		position: relative;
		flex: 1;
	}
	.register-container .blurred-background {
		background: #c9ffd5;
	}
	.register-container:hover .container-title {
		opacity: 0;
		visibility: hidden;
	}
	.login-container:hover .container-title {
		opacity: 0;
		visibility: hidden;
	}
	input, input[type=text] {
		box-sizing: unset;
		-webkit-box-sizing: unset;
		margin-bottom: unset;
	}
	input[type=password], input[type=email], select {
		padding: 0.5em;
	}
	input:required {
		border-width: 2px;
	}
	.helptext {
		display: block;
	}
	.auth-form .field input, .auth-form .field select {
		width: 100%;
	}
	.auth-form input[type=submit] {
		width: 30%;
		margin: auto;
	}
	.field {
		width: 50%;
		margin: auto;
	}
	.field-errors {
		color: red;
		font-size: 0.8em;
	}
</style>
{% endblock %}

{% block scripts %}
{{ block.super }}
<script>
	$('input').attr('autocomplete', 'off');
</script>
{% endblock %}